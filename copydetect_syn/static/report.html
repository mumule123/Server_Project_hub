<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Copy Detection Report</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF" crossorigin="anonymous">
  <style>
    h1 {
      text-align: center;
    }
    .highlight-green {
      background-color: #b6f2b6;
    }
    .highlight-red {
      background-color: #f2b6b6;
    }
    pre {
      text-align: left;
    }
    .col3 {
      float: left;
      width: 33%;
    }
    .file-info-list {
      max-height: 900px;
      overflow-y: scroll;
    }
  </style>
</head>
<body>
<div class="container" style="margin-top: 3em; max-width: 1400px">
  <h1 style="margin-bottom: 1em;">代码复用检测报告</h1>
  <h2><button id="saveButton">是否下载该报告</button></h2>
    <div class="row" style="font-size: small;">
      <div class="col3">
        <p>
          <b>检索代码 (vertical):</b> 1<br>
          <b>超过显示阈值的数量:</b> 1 (100.00%)<br><br>
          <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-test-files" aria-expanded="false" aria-controls="collapse-test-files">
            查看 <i>检索</i> 文件
          </button>
        </p>
        <div class="collapse" id="collapse-test-files">
          <ul class="file-info-list">
              <li>0=e:\EL\Server_Project\copydetect_syn\uploads\suspicious-document000003.java</li>
            </ul>
        </div>
      </div>
      <div class="col3">
        <p>
          <b>参考代码数量 (horizontal):</b> 20<br><br><br>
          <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-reference-files" aria-expanded="false" aria-controls="collapse-reference-files">
            查看 <i>参考</i> 文件
          </button>
        </p>
        <div class="collapse" id="collapse-reference-files">
          <ul class="file-info-list">
              <li>0=e:\EL\Server_Project\copydetect_syn\downs\source-document0535716.java</li>
            
              <li>1=e:\EL\Server_Project\copydetect_syn\downs\source-document0142993.java</li>
            
              <li>2=e:\EL\Server_Project\copydetect_syn\downs\source-document0053461.java</li>
            
              <li>3=e:\EL\Server_Project\copydetect_syn\downs\source-document1774253.java</li>
            
              <li>4=e:\EL\Server_Project\copydetect_syn\downs\source-document1591885.java</li>
            
              <li>5=e:\EL\Server_Project\copydetect_syn\downs\source-document0197244.java</li>
            
              <li>6=e:\EL\Server_Project\copydetect_syn\downs\source-document1523379.java</li>
            
              <li>7=e:\EL\Server_Project\copydetect_syn\downs\source-document1646866.java</li>
            
              <li>8=e:\EL\Server_Project\copydetect_syn\downs\source-document1003963.java</li>
            
              <li>9=e:\EL\Server_Project\copydetect_syn\downs\source-document0082123.java</li>
            
              <li>10=e:\EL\Server_Project\copydetect_syn\downs\source-document1260833.java</li>
            
              <li>11=e:\EL\Server_Project\copydetect_syn\downs\source-document0081996.java</li>
            
              <li>12=e:\EL\Server_Project\copydetect_syn\downs\source-document1125399.java</li>
            
              <li>13=e:\EL\Server_Project\copydetect_syn\downs\source-document1989178.java</li>
            
              <li>14=e:\EL\Server_Project\copydetect_syn\downs\source-document0796751.java</li>
            
              <li>15=e:\EL\Server_Project\copydetect_syn\downs\source-document2336416.java</li>
            
              <li>16=e:\EL\Server_Project\copydetect_syn\downs\source-document0263004.java</li>
            
              <li>17=e:\EL\Server_Project\copydetect_syn\downs\source-document1054886.java</li>
            
              <li>18=e:\EL\Server_Project\copydetect_syn\downs\source-document0082115.java</li>
            
              <li>19=e:\EL\Server_Project\copydetect_syn\downs\source-document0285409.java</li>
            </ul>
        </div>
      </div>
      <div class="col3">
        <p>
          <b>执行参数 <code></code>:</b><br><br><br>
          <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-exec-params" aria-expanded="false" aria-controls="collapse-exec-params">
            查看算法执行参数
          </button>
        </p>
        <div class="collapse" id="collapse-exec-params">
          <b>版本:</b> 1.0<br>
          <b>配置:</b>
          <pre class="file-info-list">{
    "extensions": [
        "*"
    ],
    "same_name_only": false,
    "ignore_leaf": false,
    "disable_filtering": false,
    "truncate": false,
    "out_file": "e:\\EL\\Server_Project\\copydetect_syn/static/report.html",
    "silent": false,
    "encoding": "utf-8",
    "window_size": 1,
    "noise_threshold": 25,
    "guarantee_threshold": 25,
    "display_threshold": 0.33,
    "test_directories": [
        "e:\\EL\\Server_Project\\copydetect_syn/uploads"
    ],
    "reference_directories": [
        "e:\\EL\\Server_Project\\copydetect_syn/downs"
    ],
    "boilerplate_directories": [],
    "disable_autoopen": false
}</pre>
        </div>
      </div>
    </div>


  <h2>匹配代码</h2>
  <table class="table table-striped table-sm">
  <tbody class="table-light">
  
  <tr>
  <td style="text-align: center;">
  <p>
    检索代码: <i>e:\EL\Server_Project\copydetect_syn\uploads\suspicious-document000003.java</i> (<b>73.67%</b>)<br>
    被抄袭代码: <i>e:\EL\Server_Project\copydetect_syn\downs\source-document2336416.java</i> (<b>99.95%</b>)<br>
    Token overlap: 2507<br><br>
    <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-1" aria-expanded="false" aria-controls="collapse-1">
      观看他们相似代码高亮
    </button>
  </p>
  <div class="collapse" id="collapse-1">
    <div class="card card-body">
      <div class="row">
        <div class="col" style="max-width: 600px">
          <pre><code><span class='highlight-red'>private static long SKIPPED_FRAME_WARNING_LIMIT = 0;
    private long mLastFrameTimeNanos;//sdfafasoijalkshadflkjhoi2l3h42il4h2n1l
    private long mFrameIntervalNanos;
    private BlockHandler mBlockHandler;

/*
 * Pixel Dungeon
 * Copyright (C) 2012-2015  Oleg Dolya
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;
 */

    public FPSFrameCallBack(Context context, BlockHandler blockHandler) {
        float mRefreshRate = getRefreshRate(context);
        mFrameIntervalNanos = (long) (1000000000l / mRefreshRate);
        SKIPPED_FRAME_WARNING_LIMIT = Config.THRESHOLD_TIME * 1000l * 1000l / mFrameIntervalNanos;

// JFormDesigner - Component initialization - DO NOT MODIFY  //GEN-BEGIN:initComponents

        SKIPPED_FRAME_ANR_TRIGGER = 5000000000l / mFrameIntervalNanos;
        Config.log(TAG, &#34;SKIPPED_FRAME_WARNING_LIMIT : &#34; + SKIPPED_FRAME_WARNING_LIMIT +
                &#34; ,SKIPPED_FRAME_ANR_TRIGGER : &#34; + SKIPPED_FRAME_ANR_TRIGGER);
        mBlockHandler = blockHandler;
    }


    private float getRefreshRate(Context context) {
        Display display = ((WindowManager) context.getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();
        return display.getRefreshRate();
    }


    @Override
    public void doFrame(long frameTimeNanos) {
        if (mLastFrameTimeNanos == 0) {
            mLastFrameTimeNanos = frameTimeNanos;
            Choreographer.getInstance().postFrameCallback(this);
            return;
        }
        final long jitterNanos = frameTimeNanos - mLastFrameTimeNanos;
        if (jitterNanos &gt;= mFrameIntervalNanos) {
            final long skippedFrames = jitterNanos / mFrameIntervalNanos;
            if (skippedFrames &gt;= SKIPPED_FRAME_WARNING_LIMIT) {//dskofjlkh34k52hl4h2il42gh3l4h12li4b
                Config.log(TAG, &#34;Skipped &#34; + skippedFrames + &#34; frames!  &#34;
                        + &#34;The application may be doing too much work on its main thread.&#34;);
                mBlockHandler.notifyBlockOccurs(
                        skippedFrames &gt;= SKIPPED_FRAME_ANR_TRIGGER,
                        skippedFrames);
            }
        }
        mLastFrameTimeNanos = frameTimeNanos;
        Choreographer.getInstance().postFrameCallback(this);
    }
}
public boolean isEvaluatable() {
        if (expression != null) {
            return expression
                    .isEverything(ExpressionVisitor.EVALUATABLE_VISITOR);
        }
        if (expression</span>List != null) {
            for (Expression e : expressionList) {
                if (!e.isEverything(ExpressionVisitor.EVALUATABLE_VISITOR)) {
                    return false;
                }
            }
            return true;
/**
 * @author 0chencc
 */
        }
        return expressionQuery
                .isEverything(ExpressionVisitor.EVALUATABLE_VISITOR);
    }

    @Override
    public String toString() {
        StringBuilder builder = new StringBuilder(&#34;column=&#34;).append(column).append(&#34;, compareType=&#34;);
        return compareTypeToString(builder, compareType)//aklsjjdlakdlh123lh412l3hl1
            .append(&#34;, expression=&#34;).append(expression)
            .append(&#34;, expressionList=&#34;).append(expressionList)
            .append(&#34;, expressionQuery=&#34;).append(expressionQuery).toString();
    }</code></pre>
        </div>
        <div class="col" style="max-width: 600px">
          <pre><code><span class='highlight-green'>private static long SKIPPED_FRAME_WARNING_LIMIT = 0;
    private long mLastFrameTimeNanos;
    private long mFrameIntervalNanos;
    private BlockHandler mBlockHandler;



    public FPSFrameCallBack(Context context, BlockHandler blockHandler) {
        float mRefreshRate = getRefreshRate(context);
        mFrameIntervalNanos = (long) (1000000000l / mRefreshRate);
        SKIPPED_FRAME_WARNING_LIMIT = Config.THRESHOLD_TIME * 1000l * 1000l / mFrameIntervalNanos;
        SKIPPED_FRAME_ANR_TRIGGER = 5000000000l / mFrameIntervalNanos;
        Config.log(TAG, &#34;SKIPPED_FRAME_WARNING_LIMIT : &#34; + SKIPPED_FRAME_WARNING_LIMIT +
                &#34; ,SKIPPED_FRAME_ANR_TRIGGER : &#34; + SKIPPED_FRAME_ANR_TRIGGER);
        mBlockHandler = blockHandler;
    }


    private float getRefreshRate(Context context) {
        Display display = ((WindowManager) context.getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();
        return display.getRefreshRate();
    }


    @Override
    public void doFrame(long frameTimeNanos) {
        if (mLastFrameTimeNanos == 0) {
            mLastFrameTimeNanos = frameTimeNanos;
            Choreographer.getInstance().postFrameCallback(this);
            return;
        }
        final long jitterNanos = frameTimeNanos - mLastFrameTimeNanos;
        if (jitterNanos &gt;= mFrameIntervalNanos) {
            final long skippedFrames = jitterNanos / mFrameIntervalNanos;
            if (skippedFrames &gt;= SKIPPED_FRAME_WARNING_LIMIT) {
                Config.log(TAG, &#34;Skipped &#34; + skippedFrames + &#34; frames!  &#34;
                        + &#34;The application may be doing too much work on its main thread.&#34;);
                mBlockHandler.notifyBlockOccurs(
                        skippedFrames &gt;= SKIPPED_FRAME_ANR_TRIGGER,
                        skippedFrames);
            }
        }
        mLastFrameTimeNanos = frameTimeNanos;
        Choreographer.getInstance().postFrameCallback(this);
    }
}</span></code></pre>
        </div>
      </div>
    </div>
  </div>
  </td>
  </tr>
  
  </tbody>
  </table>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-kQtW33rZJAHjgefvhyyzcGF3C5TFyBQBA13V1RKPf4uH+bwyzQxZ6CmMZHmNBEfJ" crossorigin="anonymous"></script>
    <script>
        // 获取保存按钮元素
        const saveButton = document.getElementById('saveButton');

        // 添加点击事件监听器
        saveButton.addEventListener('click', () => {
            // 隐藏下载按钮
            saveButton.style.display = 'none';

            // 获取当前页面的 HTML 内容
            const htmlContent = document.documentElement.outerHTML;

            // 恢复下载按钮的显示
            saveButton.style.display = 'block';

            // 创建一个 Blob 对象，将页面内容放入其中
            const blob = new Blob([htmlContent], { type: 'text/html' });

            // 使用 URL.createObjectURL 创建一个下载链接
            const url = URL.createObjectURL(blob);

            // 创建一个下载链接元素
            const downloadLink = document.createElement('a');
            downloadLink.href = url;
            downloadLink.download = 'saved_page.html'; // 设置下载文件的名称

            // 模拟点击下载链接
            downloadLink.click();

            // 释放 URL 对象
            URL.revokeObjectURL(url);
        });
    </script>
</body>
</html>
</body>